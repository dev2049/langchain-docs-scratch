"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8208],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>d});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=a.createContext({}),l=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=l(e.components);return a.createElement(c.Provider,{value:n},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(t),m=o,d=u["".concat(c,".").concat(m)]||u[m]||h[m]||r;return t?a.createElement(d,i(i({ref:n},p),{},{components:t})):a.createElement(d,i({ref:n},p))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<r;l++)i[l]=t[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},95681:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>u,default:()=>f,frontMatter:()=>p,metadata:()=>h,toc:()=>d});var a=t(87462),o=(t(67294),t(3905));const r=(i="CodeOutputBlock",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)});var i;const s={toc:[]},c="wrapper";function l(e){let{components:n,...t}=e;return(0,o.kt)(c,(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"pip install langchain\npip install google-search-results\npip install openai\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from langchain.agents import Tool\nfrom langchain.memory import ConversationBufferMemory\nfrom langchain.chat_models import ChatOpenAI\nfrom langchain.utilities import SerpAPIWrapper\nfrom langchain.agents import initialize_agent\nfrom langchain.agents import AgentType\nfrom getpass import getpass\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"SERPAPI_API_KEY = getpass()\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'search = SerpAPIWrapper(serpapi_api_key=SERPAPI_API_KEY)\ntools = [\n    Tool(\n        name = "Current Search",\n        func=search.run,\n        description="useful for when you need to answer questions about current events or the current state of the world. the input to this should be a single search term."\n    ),\n]\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'memory = ConversationBufferMemory(memory_key="chat_history", return_messages=True)\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"OPENAI_API_KEY = getpass()\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"llm=ChatOpenAI(openai_api_key=OPENAI_API_KEY, temperature=0)\nagent_chain = initialize_agent(tools, llm, agent=AgentType.CHAT_CONVERSATIONAL_REACT_DESCRIPTION, verbose=True, memory=memory)\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'agent_chain.run(input="hi, i am bob")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    \n    \n    > Entering new AgentExecutor chain...\n    {\n        "action": "Final Answer",\n        "action_input": "Hello Bob! How can I assist you today?"\n    }\n    \n    > Finished chain.\n\n\n\n\n\n    \'Hello Bob! How can I assist you today?\'\n'))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'agent_chain.run(input="what\'s my name?")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    \n    \n    > Entering new AgentExecutor chain...\n    {\n        "action": "Final Answer",\n        "action_input": "Your name is Bob."\n    }\n    \n    > Finished chain.\n\n\n\n\n\n    \'Your name is Bob.\'\n'))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'agent_chain.run("what are some good dinners to make this week, if i like thai food?")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    \n    \n    > Entering new AgentExecutor chain...\n    {\n        "action": "Current Search",\n        "action_input": "Thai food dinner recipes"\n    }\n    Observation: 64 easy Thai recipes for any night of the week \xb7 Thai curry noodle soup \xb7 Thai yellow cauliflower, snake bean and tofu curry \xb7 Thai-spiced chicken hand pies \xb7 Thai ...\n    Thought:{\n        "action": "Final Answer",\n        "action_input": "Here are some Thai food dinner recipes you can try this week: Thai curry noodle soup, Thai yellow cauliflower, snake bean and tofu curry, Thai-spiced chicken hand pies, and many more. You can find the full list of recipes at the source I found earlier."\n    }\n    \n    > Finished chain.\n\n\n\n\n\n    \'Here are some Thai food dinner recipes you can try this week: Thai curry noodle soup, Thai yellow cauliflower, snake bean and tofu curry, Thai-spiced chicken hand pies, and many more. You can find the full list of recipes at the source I found earlier.\'\n'))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'agent_chain.run(input="tell me the last letter in my name, and also tell me who won the world cup in 1978?")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    \n    \n    > Entering new AgentExecutor chain...\n    {\n        "action": "Final Answer",\n        "action_input": "The last letter in your name is \'b\'. Argentina won the World Cup in 1978."\n    }\n    \n    > Finished chain.\n\n\n\n\n\n    "The last letter in your name is \'b\'. Argentina won the World Cup in 1978."\n'))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},'agent_chain.run(input="whats the weather like in pomfret?")\n')),(0,o.kt)(r,{lang:"python",mdxType:"CodeOutputBlock"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    \n    \n    > Entering new AgentExecutor chain...\n    {\n        "action": "Current Search",\n        "action_input": "weather in pomfret"\n    }\n    Observation: Cloudy with showers. Low around 55F. Winds S at 5 to 10 mph. Chance of rain 60%. Humidity76%.\n    Thought:{\n        "action": "Final Answer",\n        "action_input": "Cloudy with showers. Low around 55F. Winds S at 5 to 10 mph. Chance of rain 60%. Humidity76%."\n    }\n    \n    > Finished chain.\n\n\n\n\n\n    \'Cloudy with showers. Low around 55F. Winds S at 5 to 10 mph. Chance of rain 60%. Humidity76%.\'\n'))))}l.isMDXComponent=!0;const p={},u="Conversation Agent (for Chat Models)",h={unversionedId:"modules/agents/agent_types/chat_conversation_agent",id:"modules/agents/agent_types/chat_conversation_agent",title:"Conversation Agent (for Chat Models)",description:"This walkthrough demonstrates how to use an agent optimized for conversation, using ChatModels. Other agents are often optimized for using tools to figure out the best response, which is not ideal in a conversational setting where you may want the agent to be able to chat with the user as well.",source:"@site/docs/modules/agents/agent_types/chat_conversation_agent.mdx",sourceDirName:"modules/agents/agent_types",slug:"/modules/agents/agent_types/chat_conversation_agent",permalink:"/langchain-docs-scratch/docs/modules/agents/agent_types/chat_conversation_agent",draft:!1,editUrl:"https://github.com/hwchase17/langchainjs/edit/main/docs/docs/modules/agents/agent_types/chat_conversation_agent.mdx",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Types",permalink:"/langchain-docs-scratch/docs/modules/agents/agent_types/"},next:{title:"Conversation agent",permalink:"/langchain-docs-scratch/docs/modules/agents/agent_types/conversational_agent"}},m={},d=[],g={toc:d},y="wrapper";function f(e){let{components:n,...t}=e;return(0,o.kt)(y,(0,a.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"conversation-agent-for-chat-models"},"Conversation Agent (for Chat Models)"),(0,o.kt)("p",null,"This walkthrough demonstrates how to use an agent optimized for conversation, using ChatModels. Other agents are often optimized for using tools to figure out the best response, which is not ideal in a conversational setting where you may want the agent to be able to chat with the user as well."),(0,o.kt)("p",null,"This is accomplished with a specific type of agent (",(0,o.kt)("inlineCode",{parentName:"p"},"chat-conversational-react-description"),") which expects to be used with a memory component."),(0,o.kt)(l,{mdxType:"Example"}))}f.isMDXComponent=!0}}]);